# ===================================
# GEMINI SEARCH BACKEND CONFIGURATION
# ===================================

# ============ REQUIRED ============
# Google AI API Key (REQUIRED)
# Get your API key from: https://aistudio.google.com/apikey
GOOGLE_API_KEY=your_google_api_key_here

# Google Custom Search Engine ID (Optional - falls back to Gemini grounding)
# Get your Search Engine ID from: https://programmablesearchengine.google.com/
GOOGLE_SEARCH_ENGINE_ID=your_search_engine_id_here

# ============ AI MODEL CONFIGURATION ============
# Gemini model to use (gemini-2.0-flash)
GEMINI_MODEL=gemini-2.0-flash

# Model parameters for search responses
GEMINI_TEMPERATURE=0.9
GEMINI_TOP_P=1.0
GEMINI_TOP_K=1
GEMINI_MAX_OUTPUT_TOKENS=2048

# Model parameters for related questions generation
GEMINI_RELATED_QUESTIONS_TEMPERATURE=0.7
GEMINI_RELATED_QUESTIONS_MAX_TOKENS=256

# Google Custom Search API URL
GOOGLE_CUSTOM_SEARCH_URL=https://www.googleapis.com/customsearch/v1

# Number of search results to fetch from Google Custom Search
SEARCH_RESULTS_LIMIT=10

# ============ DATABASE ============
# Database URL
# For local SQLite: sqlite:///./zemixity.db
# For local PostgreSQL: postgresql://localhost/zemixity
# For Neon: postgresql://user:pass@ep-xxx.neon.tech/neondb?sslmode=require
DATABASE_URL=postgresql://localhost/zemixity

# Database connection pool settings (PostgreSQL only)
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_RECYCLE=3600

# ============ REDIS / SESSION STORAGE ============
# Redis configuration (Optional - falls back to in-memory storage)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
# REDIS_PASSWORD=your_redis_password  # Uncomment for production (Upstash, etc.)

# Session TTL in seconds (default: 86400 = 24 hours)
SESSION_TTL=86400

# Redis connection timeout in seconds
REDIS_SOCKET_TIMEOUT=1

# ============ RATE LIMITING ============
# Rate limits for API endpoints (format: "requests/period")
# Examples: "10/minute", "100/hour", "1000/day"
RATE_LIMIT_SEARCH=10/minute
RATE_LIMIT_FOLLOWUP=20/minute
RATE_LIMIT_MULTIMODAL=10/minute

# ============ FILE UPLOAD ============
# Maximum file upload size in MB (for multimodal search)
MAX_UPLOAD_SIZE_MB=10

# ============ TIMEOUTS ============
# API request timeout in seconds (for external API calls)
API_REQUEST_TIMEOUT=10

# ============ AUTHENTICATION / AUTHORIZATION ============
# Browser API Key - Secret key for authenticating requests from your browser
# Browser users (authenticated via this key) get unlimited pro-tier access
# Generate a strong random key, e.g.: openssl rand -hex 32
BROWSER_API_KEY=your_browser_api_key_here

# Admin API Key - Secret key for admin endpoints (user management, rate limit monitoring)
# Generate a strong random key, e.g.: openssl rand -hex 32
ADMIN_API_KEY=your_admin_api_key_here

# Free tier daily search limit (for public/unauthenticated users via domain)
# Browser users (with valid BROWSER_API_KEY) are not subject to this limit
FREE_TIER_DAILY_LIMIT=5

# ============ CORS / SECURITY ============
# CORS allowed origins (comma-separated list)
# For development: http://localhost:3005
# For production: https://your-app.vercel.app,https://yourdomain.com
CORS_ORIGINS=http://localhost:3005

# Additional CORS origins (optional, appends to CORS_ORIGINS)
# ALLOWED_ORIGINS=https://your-app.vercel.app,https://zemixity.com

# ============ SERVER ============
# Server host and port
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
